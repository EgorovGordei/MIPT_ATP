cmake_minimum_required(VERSION 2.7)

set(LIBRARY_OUTPUT_DIRECTORY lib)
set(RUNTIME_OUTPUT_DIRECTORY build)
set(BINARY_OUTPUT_DIRECTORY bin)

# project's name
project(B)

# step 2
# run .py file
execute_process(COMMAND python3 "${CMAKE_SOURCE_DIR}/A/preparing.py"
	WORKING_DIRECTORY "${CMAKE_SOURCE_DIR}/A/")

# step 4
# hard way
message(${CMAKE_SOURCE_DIR})

# step 6
# create executable
include_directories("${CMAKE_SOURCE_DIR}/A/" "${CMAKE_SOURCE_DIR}/C/")
#include_directories("${CMAKE_SOURCE_DIR}/B")
add_executable(C "${CMAKE_SOURCE_DIR}/C/main.h" "${CMAKE_SOURCE_DIR}/A/index.h" "${CMAKE_SOURCE_DIR}/C/main.cpp") 

# step 3
# compile lib.h
add_subdirectory(./B/)
target_link_libraries(C lib)

